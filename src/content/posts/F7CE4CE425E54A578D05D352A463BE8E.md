---
title: 夜のフライトコール（nfc）のすすめ方
pubDate: 2024-10-09T10:38:15.000Z
updatedDate: 2025-02-07T18:21:54.000Z
tags:
  - nfc
  - anotation
  - 渡り
isDraft: false
description: >-
  夜のフライトコールを日本全国で録音をお願いしています。その分析をどうしたら人手がかからないか考えています。その思考の過程を記事にしました。これは修正を重ねていくと思います。
category: Technology
heroImage: ./nocturnal_flight_call_recording.webp
---

![nocturnal flight call recording](https://object-storage.tyo2.conoha.io/v1/nc_938a9d00d6004f1390c354d4a15ef25b/blog-astro-assets/blog-images/nocturnal_flight_call_recording.webp){.img-fluid}

- これからNFC録音の分析WEBシステムを作ることにして少し詳細を仕様化しようと思い書き出してみました。

## nfc録音と録音データの収集と前処理の手順

1. ICレコーダを用いたnfcの録音（各サイト）
2. 録音データのファイル名に録音開始時刻と終了時刻、サイト名の付加
3. nfc録音のメタデータの入力
   - ユニークID、日時、場所、録音者、ICレコーダ、音響フォーマット、環境、天気、気温、ライセンス
4. nfc録音データの収集
   - google driveに参加者がupload
5. nfc録音のバックアップ
6. nfc録音データのユニークIDのファイル名変更
   - 例えば、TRC4S3AGとか
7. nfc録音データのフォーマット変換と分割：（多分１時間）
   - 例えば、TRC4S3AG01, TRC4S3AG02, TRC4S3AG03とか

## nfcの自動抽出（推定）と精度向上の手順

### 推定エンジンの選定

1. nfcに特化したエンジン、野鳥の声に特異なエンジンがあるのでそのベンチマーク
2. ベーンチマークに基づいたエンジン決定（ないしはエンジンを切り替えられるようにする）

### 訓練

1. 教師データの取得
2. 教師データの取得にはtoriRのアノテーションを用いて時刻と種類を手作業で取得する
3. 教師データを用いたトレーニングによるtfrecordsの取得

### 推論

1. 推論エンジンを用いた録音データからの開始時刻と確度の出力
2. nfcの切り出しとスペクトラム画像生成

### 推論の検証

1. 音声が聞ける状態にして、推定されたスペクトログラムを表示し、ユーザに正誤を選んでもらう
2. 正誤に応じたデータベースの登録

### 精度向上

1. 正誤データを集めて次の教師データとする
2. 数が集まったところで訓練フェーズに戻る

## アプリ開発の手順

 1. ローカル環境で動作検証し推定エンジンを決定

 2. ユーザごとのアップロードされた録音のデータ管理画面の作成

 3. 2からキックされたら推論するモジュールの開発

 4. バックアップ方法の決定と開発

 5. 自動で推論の精度向上の開発

 6. 集計画面の開発




以上です

   
